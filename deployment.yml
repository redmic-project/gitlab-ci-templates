include:
  - local: '/_deployment.yml'

.deploy-branch-base: &deploy-branch-base
  stage: deploy

.deploy-support-branch: &deploy-support-branch
  <<: *deploy-branch-base
  only:
    - branches
  except:
    - master
    - schedules

deploy-support-branch-development:
  extends: .deploy-development
  <<: *deploy-support-branch

.deploy-stable-branch: &deploy-stable-branch
  extends: .deploy-branch-base
  only:
    - master
  except:
    - schedules

deploy-stable-branch-development:
  extends: .deploy-development
  <<: *deploy-stable-branch

deploy-stable-branch-production:
  extends: .deploy-production
  <<: *deploy-stable-branch

.deploy-tag-base: &deploy-tag-base
  stage: deploy

.deploy-tag: &deploy-tag
  <<: *deploy-tag-base
  only:
    - tags

deploy-tag-development:
  extends: .deploy-development
  <<: *deploy-tag

deploy-tag-production:
  extends: .deploy-production
  <<: *deploy-tag
